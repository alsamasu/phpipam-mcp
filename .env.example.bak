# phpIPAM MCP Server Configuration
# ==================================
# Copy this file to .env and configure your settings

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Base URL of your phpIPAM instance (no trailing slash)
PHPIPAM_BASE_URL=https://phpipam.example.com

# API Application ID (configured in phpIPAM Admin > API)
PHPIPAM_APP_ID=myapp

# =============================================================================
# AUTHENTICATION (choose one method)
# =============================================================================

# Authentication mode: 'token', 'password', or 'auto' (default: auto)
# - token: Use API token authentication
# - password: Use username/password authentication
# - auto: Auto-detect based on which credentials are provided (token preferred)
PHPIPAM_AUTH_MODE=auto

# Option 1: Token Authentication
# Generate an API token in phpIPAM Admin > API > Your App > Token
PHPIPAM_TOKEN=

# Option 2: Username/Password Authentication
PHPIPAM_USERNAME=
PHPIPAM_PASSWORD=

# =============================================================================
# FEATURE TOGGLES (Security Controls)
# =============================================================================

# Enable write operations (create, update, delete)
# Default: false (read-only mode)
PHPIPAM_WRITE_ENABLED=false

# Verify TLS certificates
# Set to false only for self-signed certificates in development
# Default: true
PHPIPAM_VERIFY_TLS=true

# Enable response caching (reduces API calls)
# Default: false
PHPIPAM_ENABLE_CACHE=false

# Enable HTTP debug logging (logs request/response details)
# WARNING: May log sensitive data - use only for debugging
# Default: false
PHPIPAM_DEBUG_HTTP=false

# Allow subnet creation via subnets.ensure tool
# Requires PHPIPAM_WRITE_ENABLED=true
# Default: false
PHPIPAM_ALLOW_SUBNET_CREATE=false

# Allow section creation via sections.ensure tool
# Requires PHPIPAM_WRITE_ENABLED=true
# Default: false
PHPIPAM_ALLOW_SECTION_CREATE=false

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Request timeout in milliseconds
# Default: 30000 (30 seconds)
PHPIPAM_TIMEOUT=30000

# Maximum retry attempts for transient errors
# Default: 3
PHPIPAM_MAX_RETRIES=3

# Base delay between retries in milliseconds (exponential backoff applied)
# Default: 1000 (1 second)
PHPIPAM_RETRY_DELAY=1000
